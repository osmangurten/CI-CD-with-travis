git:
  submodules: false
  quiet: true
  depth: 3
language: python
cache: pip
jobs:
  allow_failures:
  - python: 3.8-dev
  include:
  - stage: Tests in Linux
    name: Python 3.8.0 on Xenial Linux
    python: 3.8
  - name: Python 3.8.0 on Bionic Linux
    python: 3.8
    dist: bionic
  - name: Python 3.7.4 on Xenial Linux
    python: 3.7
  - name: Python 3.8 dev on Xenial Linux
    python: 3.8-dev
    script:
    - exit 1
  - stage: Tests in other platform
    name: Python 3.7.4 on macOS
    os: osx
    osx_image: xcode11.2
    language: shell
  - name: Python 3.8.0 on Windows
    os: windows
    language: shell
    before_install:
    - choco install python --version 3.8.0
    - python -m pip install --upgrade pip
    env: PATH=/c/Python38:/c/Python38/Scripts:$PATH
  - stage: deploy
    if: "(branch = develop) AND (type = push)"
    python: 3.8
    install: skip
    script: skip
    deploy:
      on:
        branch: develop
      provider: pypi
      user: __token__
      password:
        secure: B1fhQ0TBAbB1sI/wUWIJ41Krr+fVlaDLroUfzmnwEAR2gO7CSs41BYwqeK6GCPPJKq+4PYWWb6/u1HPO3KJhv/2zczd4n1z5n9qz35pVT5+MrJsf5YMvY/QTgBISkfkl7ONanmashWZLCq1w8Wzj/0e99Ia+roHFj7ORR0aIc7VWYoc50J/dM8WNr7AXV105TtLmwqbHJc8+06cz3Wv+4yNmmYeWI/hbzgDjK5ood/l104lMnuM6jcRKqYpC4NTBXe+zXbmi6zPpcXgs5QusDEAjnDqQ4YzgC2a+QWBBKj8Oy8iZX7Kw6tr5PG8gRoJn5lWXU6/zptMxGb9KGRA7M2JSRtj0RJBnk8x0Ex1AlDpQj+Bww3t5Zd7ChCbhop3OijVNgTsPjUgdAcyC8jq9XalZMSyltoQ1HnVQNVHsr1wav6m3Cm5YrAfvNL4vlrmjaAlHyYCSjycKwDCTMWdE1CIjbZAtz3Is2fzl8MdOkJ8ElVX+3gCYoHov7ZH4vTMxjHzXX2CGPaGoSzmSrGutzhnQCjkQdfBTzgZ1vSKTxtQ3OTnIHMTBAu+Kckiw17yLIQjblLKianF1l3fwuk11K6ZGORPziDyHgd6IPnYEJ733WWvUIzt2eTJhNF71WqwRjfSSJN374jMdkF9PKLqi/oGUXp03voOHzkDXsELsW8I=
      distributions: sdist bdist_wheel
      skip_existing: true