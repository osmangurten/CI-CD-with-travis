git:
  submodules: false
  quiet: true
  depth: 3
language: python
cache: pip
jobs:
  include:
  - name: Python 3.8.0 on Xenial Linux
    python: 3.8
  - name: Python 3.8.0 on Bionic Linux
    python: 3.8
    dist: bionic
  - name: Python 3.7.4 on Xenial Linux
    python: 3.7
  - name: Python 3.8 dev on Xenial Linux
    python: 3.8-dev
  - name: Python 3.7.4 on macOS
    os: osx
    osx_image: xcode11.2
    language: shell
  - name: Python 3.8.0 on Windows
    os: windows
    language: shell
    before_install:
    - choco install python --version 3.8.0
    - python -m pip install --upgrade pip
    env: PATH=/c/Python38:/c/Python38/Scripts:$PATH
  allow_failures:
    - python: 3.8-dev
install:
  - pip3 install --upgrade pip
  - pip3 install -r requirements.txt

script:
  - python3 -m pytest -v || python -m pytest -v

# Update