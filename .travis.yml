git:
  submodules: false
  quiet: true
  depth: 3
language: python
cache: pip
jobs:
  allow_failures:
  - python: 3.8-dev
  include:
  - stage: Tests in Linux
    name: Python 3.8.0 on Xenial Linux
    python: 3.8
  - name: Python 3.8.0 on Bionic Linux
    python: 3.8
    dist: bionic
  - name: Python 3.7.4 on Xenial Linux
    python: 3.7
  - name: Python 3.8 dev on Xenial Linux
    python: 3.8-dev
    script:
    - exit 1
  - stage: Tests in other platform
    name: Python 3.7.4 on macOS
    os: osx
    osx_image: xcode11.2
    language: shell
  - name: Python 3.8.0 on Windows
    os: windows
    language: shell
    before_install:
    - choco install python --version 3.8.0
    - python -m pip install --upgrade pip
    env: PATH=/c/Python38:/c/Python38/Scripts:$PATH
  - stage: deploy
    if: "(branch = develop) AND (type = push)"
    python: 3.8
    install: skip
    script: skip
    deploy:
      on:
        branch: develop
      provider: pypi
      user: __token__
      distributions: sdist bdist_wheel
      skip_existing: true
deploy:
  password:
    secure: ZDxpkwG1i38fDk9NXoida4yG8UYJJmP7P79yVXMN7z0EqX+UMPOzcwO6lx5u4k9mwGOOY8xt2S8/O02b/Xi4TjdqslWAyOymoptTS/jg4eDEWpmSdhV+uGUwEr6VcNS+tmp0rz0B/N12NKrIfPKCQWwW0uhN2s+rozzrDNezFdo73Ju2HWqjx0nMowx0VkUCXpU8qU9nGtfw4FjbW+cMC5dHifLZew0Ze7/l5PIYodtszByRxK9JinHSW579fr5sihpBvfdNp0i2lsgUW0ClWZosbX0MyvAhU2cQQyRT9nzWMbAz9lDlQjUDuwMdIkeuMV4RtErJHXJQAiPSrGd/9ZhlI+qmUfTR+ZFkU1YePPlcDECYlDNOQesRDqutAhZrhI7dCbCfPx0v6w4FFDEiRhBK1/ZrpS/QUQ+LihfhMMXbTOEKOQfipH2y8xKdHkH6lCBmrjYo0kOgdQijRFxMGbkZKfLf06d1zsuReU7EkgdfieTc02BbrlExhYRvapey7qTDXwzwjQ6Pgv+RpwETtCauo0vYynEEC8PqJz+zQPtdPsju4P5OaefQfd274EQcumum/1kb+cQf8eFOEmOia7XbbTbPL2FwxcXIAsn8sDycEVzTcq+i6Qce8cFabBnV2CWZT2GFHH5UZw//HMyJIG97IORyDs+nU+Xt9aHsTes=
